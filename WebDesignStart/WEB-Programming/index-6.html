<html><head><META http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Internet Programming school</title><meta content="text/html; charset=windows-1251" http-equiv="Content-Type"><link href="lesson.css" tppabs="http://ips.ifmo.ru/css/lesson.css" type="text/css" rel="stylesheet"><link href="style.css" type="text/css" rel="stylesheet"><script type="text/javascript" src="../../../../js/upmenu.js" language="JavaScript"> </script><script type="text/javascript" src="../../../../js/popupmenu.js" language="JavaScript"> </script><script type="text/javascript" src="../../../../js/tree.js" language="JavaScript"> </script></head><body marginwidth="0" marginheight="0" topmargin="0" leftmargin="0" bgcolor="#ffffff"><table cellspacing="0" cellpadding="0" height="100%" width="100%"><tr><td><table width="100%"><tbody><tr><td height="59"><img src="logo.gif" tppabs="http://ips.ifmo.ru/img/logo.gif" width="310" height="45"></td><td align="right"><a href="javascript:if(confirm('http://ips.ifmo.ru/personal/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/personal/'" tppabs="http://ips.ifmo.ru/personal/" class="up">Вход</a><span> | </span><a href="javascript:if(confirm('http://ips.ifmo.ru/main/siteabout/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/main/siteabout/'" tppabs="http://ips.ifmo.ru/main/siteabout/" class="up">Карта сайта</a><span> | </span><a href="javascript:if(confirm('http://ips.ifmo.ru/about/contacts/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/about/contacts/'" tppabs="http://ips.ifmo.ru/about/contacts/" class="up">Контакты</a></td></tr></tbody></table></td></tr><tr><td><table border="0" width="100%" cellPadding="0" cellSpacing="0"><tbody><tr><td align="right" height="1" colspan="2"><img src="menu13.gif" tppabs="http://ips.ifmo.ru/img/menu13.gif"></td></tr><tr bgcolor="#000934"><td><img src="menu21.gif" tppabs="http://ips.ifmo.ru/img/menu21.gif" width="267" height="36"></td><td align="right"><img src="menu23.gif" tppabs="http://ips.ifmo.ru/img/menu23.gif" width="512" height="36"></td></tr><tr bgColor="#a45ad5"><td background="menu_back.gif" tppabs="http://ips.ifmo.ru/img/menu_back.gif" class="menu" height="24" colSpan="2">&nbsp;<a title="Главная" href="javascript:if(confirm('http://ips.ifmo.ru/main/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/main/'" tppabs="http://ips.ifmo.ru/main/">ГЛАВНАЯ</a>&nbsp;&nbsp;<a title="О проекте" href="javascript:if(confirm('http://ips.ifmo.ru/about/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/about/'" tppabs="http://ips.ifmo.ru/about/">О ПРОЕКТЕ</a>&nbsp;&nbsp;<a title="Академия программирования" href="javascript:if(confirm('http://ips.ifmo.ru/academy/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/academy/'" tppabs="http://ips.ifmo.ru/academy/">АКАДЕМИЯ ПРОГРАММИРОВАНИЯ</a>&nbsp;&nbsp;<a title="Учебные курсы" href="javascript:if(confirm('http://ips.ifmo.ru/courses/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/courses/'" tppabs="http://ips.ifmo.ru/courses/"><font color="yellow">УЧЕБНЫЕ КУРСЫ</font></a>&nbsp;&nbsp;<a title="Об олимпиадах" href="javascript:if(confirm('http://ips.ifmo.ru/olymp/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/olymp/'" tppabs="http://ips.ifmo.ru/olymp/">ОЛИМПИАДЫ</a>&nbsp;&nbsp;<a title="Персональная страница" href="javascript:if(confirm('http://ips.ifmo.ru/personal/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/personal/'" tppabs="http://ips.ifmo.ru/personal/">МОЙ IPS</a>&nbsp;&nbsp;</td></tr><tr bgcolor="#000934"><td></td><td align="right"><img src="menu33.gif" tppabs="http://ips.ifmo.ru/img/menu33.gif" width="512" height="5"></td></tr><tr bgcolor="#E2D3F5"><td></td><td align="right"><img src="menu43_.gif" tppabs="http://ips.ifmo.ru/img/menu43_.gif" width="512" height="6"></td></tr></tbody></table></td></tr><tr><td height="100%"><table height="100%" width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="194" class="lmenu" valign="top"><table class="lmenu" border="0" width="194"><tbody><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td width="10" valign="top"><img onclick="DisplayBranch('webprog/')" src="r_bull.gif" tppabs="http://ips.ifmo.ru/img/r_bull.gif" height="11"></td><td colspan="3" class="lmenuw"><a title="Клиентское Web-программирование" class="lmenu1" href="index.htm" tppabs="http://ips.ifmo.ru/courses/webprog/">Курс III</a></td></tr><tr><td colspan="4"><div show="true" id="webprog/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/ann/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2"><a title=" " class="lmenu2" href="index-1.htm" tppabs="http://ips.ifmo.ru/courses/webprog/ann/">Аннотация</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2" class="lmenuw"><a title="Язык сценариев JavaScript" class="lmenu2" href="index-2.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/">Часть I</a></td></tr><tr><td colspan="4"><div show="true" id="webprog/part1/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Модель клиент-сервер в Интернете" class="lmenu3" href="index-3.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l1/">Урок 1</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Сценарии JavaScript в документах HTML" class="lmenu3" href="index-4.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l2/">Урок 2</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Переменные и литералы" class="lmenu3" href="index-5.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l3/">Урок 3</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l4/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Выражения и операции" class="lmenu3" href="index-6.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l4/">Урок 4</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l5/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Операторы" class="lmenu3" href="index-7.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l5/">Урок 5</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l6/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1" class="lmenuw">Урок 6</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l7/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Встроенные объекты (1)" class="lmenu3" href="index-9.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l7/">Урок 7</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l8/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Встроенные объекты (2)" class="lmenu3" href="index-10.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l8/">Урок 8</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l9/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Создание собственных объектов" class="lmenu3" href="index-11.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l9/">Урок 9</a></td></tr></table></div></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2"><a title="Среда клиента" class="lmenu2" href="index-12.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/">Часть II</a></td></tr><tr><td colspan="4"><div show="" id="webprog/part2/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/l1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объектная модель MS Internet Explorer" class="lmenu3" href="index-13.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/l1/">Урок 10</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/l2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объекты доступа к странице и ее элементам" class="lmenu3" href="index-14.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/l2/">Урок 11</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/l3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Обработка событий в MS Internet Explorer" class="lmenu3" href="index-15.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/l3/">Урок 12</a></td></tr></table></div></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2"><a title="Динамический HTML" class="lmenu2" href="index-16.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/">Часть III</a></td></tr><tr><td colspan="4"><div show="" id="webprog/part3/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/l1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объектная модель документа DHTML" class="lmenu3" href="index-17.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l1/">Урок 13</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/l2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Примеры динамических страниц HTML" class="lmenu3" href="index-18.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l2/">Урок 14</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/l3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объектная модель документа DOM" class="lmenu3" href="index-19.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l3/">Урок 15</a></td></tr></table></div></td></tr></table></div></td></tr></tbody></table><br><br><br><table align="center"><tbody><tr><td><a href="javascript:if(confirm('http://www.ifmo.ru/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.ifmo.ru/'" tppabs="http://www.ifmo.ru/" title="Institute of fine mechanics and optics"><img border="0" src="ifmo.gif" tppabs="http://ips.ifmo.ru/img/ifmo.gif" height="29" width="64"></a></td></tr></tbody></table></td><td height="100%" valign="top"><table class="body"><tr><td><p class="link"><a href="index.htm" tppabs="http://ips.ifmo.ru/courses/webprog/" class="up">Клиентское Web-программирование</a>&nbsp;&raquo;&nbsp;<a href="index-2.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/" class="up">Часть I</a>&nbsp;&raquo;&nbsp;Урок 6</p><p class="header">Функции</p><p> <em>Функция</em> - это именованная последовательность операторов, которая инициализируется и выполняется простой ссылкой на имя функции. Синтаксис задания функций в JavaScript следующий: </p><dir><pre>
function имя_функции([формальные_параметры]) {
    [операторы]
    [return выражение]
}
</pre></dir><p> Вызов в сценарии: </p><dir><pre>
имя_функции(список_фактических_параметров)
</pre></dir><p> Во многих языках программирования можно указать при объявлении функции способ передачи в нее параметров - по ссылке или по значению. В первом случае передается ссылка на область памяти фактического параметра, что приводит к изменению его значения, если оно меняется в теле функции. Во втором случае в функцию передается копия значения фактического параметра, и его изменение в теле функции не приводит к изменению значения фактического параметра.  </p><p> В JavaScript не предусмотрен механизм указания способа передачи параметров. Здесь используется заранее предопределенное правило для передачи параметров разных типов. <em>Строки, целые, вещественные</em> и <em>булевы</em> значения передаются по <em>значению</em>. Тогда как <em>объекты</em> и <em>массивы</em> передаются по <em>ссылке</em>. </p><p> Функция JavaScript всегда возвращает некоторое значение. Для явного указания возвращаемого значения используется операция <tt>return</tt>. Ее операнд определяет возвращаемое функцией значение. Если в теле функции явно не задается возвращаемое значение, то по умолчанию она возвращает значение <tt>undefined</tt>. Поэтому функцию JavaScript всегда можно использовать в выражениях. </p><p> Обычно все определения функций задаются в элементе <tt>SCRIPT</tt> заголовочной части документа HTML (элемент <tt>HEAD</tt>).  </p><p> Функции JavaScript могут быть рекурсивными. </p><a name="example1"></a><table class="example"><caption>Пример #1. Рекурсивный вызов функции</caption><tr><td colspan="2"><p> Реализуем сценарий вычисления факториала с использованием рекурсивного вызова функции. Это классический пример рекурсии, простой для ее понимания. Однако с точки зрения эффективности он не является наилучшим, так как факториал всегда можно вычислить, используя обычный цикл <tt>for</tt>. </p><p> В нашем сценарии пользователь через диалоговое окно, отображаемое методом <tt>prompt()</tt> объекта <tt>window</tt>, передает целое число, факториал которого следует вычислить. Осуществляется проверка введенного числа и вызывается рекурсивная функция <tt>factorial()</tt>. Полный текст сценария приводится ниже: </p><dir><pre>
&lt;script&gt;
// определение рекурсивной функции

function factorial(n) {
   // база рекурсии (окончание ее)
   if ((n == 0) || (n == 1))
      return 1
   // рекурсивный вызов функции
   else
   return n * factorial(n-1)
}

x = window.prompt("Введите целое число","")
   if (x = Number(x)){
      alert(factorial(x))
   }
   else
      alert("Следует ввести целое число!")

&lt;/script&gt;
   </pre></dir><p> Заметим, что наш сценарий не будет вычислять факториал любого числа. Во-первых, для чисел, больших 170, значением факториала будет число <tt>Infinity</tt>, так как для таких чисел факториал больше числа 1.7976931348623157*10<sup>308</sup>, а во-вторых, для чисел, больших 474, будет получена ошибка переполнения стека, используемого в любом языке программирования для хранения вызовов вложенных функций.  </p></td></tr></table><p> Функции JavaScript позволяют вообще не задавать при их определении списка формальных параметров, а использовать в теле функции массив <tt>arguments</tt>, в котором хранятся все фактические параметры. Доступ к элементам массива осуществляется с помощью операции индексирования - квадратные скобки с заданным внутри них индексом элемента: </p><dir><pre>
arguments[4]
</pre></dir><p> Индексы в массиве начинаются с нуля. Массивы в JavaScript являются объектами типа <tt>Array</tt> и у них есть свойство <tt>length</tt>, хранящее количество элементов массива. Таким образом, максимальный индекс элемента массива на единицу меньше значения его свойства <tt>length</tt>. </p><p> Механизм хранения переданных в функцию фактических параметров в массиве <tt>arguments</tt> позволяет создавать функции с заранее неизвестным числом параметров, т. е. в определении функции вообще можно не указывать формальные параметры, а работать в теле функции с массивом <tt>arguments</tt>. Можно часть параметров в определении указать, а остальные получать через этот массив. </p><p> Еще раз отметим, что в массиве <tt>arguments</tt> хранятся все фактически переданные параметры - и те, которые соответствуют явно определенным формальным параметрам, и те, которые переданы дополнительно при вызове функции в сценарии. </p><a name="example2"></a><table class="example"><caption>Пример #2. Получение значений фактических параметров функции</caption><tr><td colspan="2"><p> Создадим функцию, возвращающую строку, в которой все переданные в нее фактические параметры, начиная со второго, разделены символом, заданным ее первым параметром: </p><dir><pre>
function myConcat(separator) {
    result="" // инициализация
    // итерации по всем переданным параметрам
    for (var i=1; i &lt; arguments.length; i++) {
         result += arguments[i] +
                   ((i == arguments.length-1) ? "" : separator)
    }
return result
}
    </pre></dir><p> Теперь можно вызывать эту функцию с произвольным числом параметров. Например, следующий вызов </p><dir><pre>
myConcat(", ", "red", "orange", "blue")
    </pre></dir><p> возвратит строку </p><dir><pre>
"red, orange, blue"
    </pre></dir><p> Можно выполнить и такой вызов: </p><dir><pre>
myConcat(":", "red", "orange", "blue", "yellow")
    </pre></dir><p> Результатом будет строка </p><dir><pre>
"red:orange:blue:yellow"
    </pre></dir></td></tr></table><p> <strong>Область видимости переменных</strong> </p><p> Любая переменная, объявленная вне тела функции оператором <tt>var</tt> или созданная по умолчанию в операции присваивания, является глобальной и видна везде в любой части любого сценария страницы и внутри тела любой функции. Время жизни такой глобальной переменной - пока страница отображается в браузере. </p><p> Переменная, объявленная с помощью оператора <tt>var</tt> в теле функции является локальной и видна только в теле той функции, где она объявлена. Ее время жизни - пока выполняется функция. Если в теле функции объявляется переменная по умолчанию в операции присваивания, то она будет иметь глобальную область видимости. </p><p> Локальная переменная может иметь имя, совпадающее с глобальной, однако при вызове функции они будут рассматриваться как две различные переменные: </p><dir><pre>
aGlob = "g"      // Глобальная переменная
var bGlob = "g"  // Глобальная переменная
function f(){
   // изменение значения глобальной переменной
   aGlob = "f"
   // создание новой глобальной переменной
   aFuncGlob = "f"
   // создание локальной переменной
   var aFunc = "f"
   // создание локальной переменной с именем глобальной
   var bGlob = "f"
 }
</pre></dir><p> После вызова функции <tt>f()</tt> значения переменных будут следующими: </p><dir><pre>
aGlob = "f"
bGlob = "g"
aFuncGlob = "f"
</pre></dir><p> Тогда как переменной <tt>aFunc</tt> существовать после завершения выполнения функции <tt>f()</tt> не будет. </p><p> При обработке сценария интерпретатор сначала находит в нем все переменные, определенные оператором <tt>var</tt>, создает их в зависимости от определенной для них области видимости и присваивает им значения <tt>undefined</tt>, а потом уже начинает выполнять сценарий, присваивая переменным значения, вычисляемые в соответствующих операторах присваивания. Если он встречает при интерпретации сценария переменную, не объявленную оператором <tt>var</tt>, то он немедленно создает глобальную переменную с указанным именем. </p><a name="example3"></a><table class="example"><caption>Пример #3. Область видимости переменных</caption><tr><td colspan="2"><p> Поучительный пример на сказанное выше относительно создания интерпретатором переменных. Какое значение вернет функция <tt>tweak()</tt> и чему будет равно после ее выполнения значение переменной <tt>aNumber</tt>? </p><dir><pre>
var aNumber = 100;
function tweak()  {
    var newThing = 0;
    newThing = aNumber;
    aNumber = 42;
    if (newThing == 100){
        var aNumber;     aNumber = 123;
        newThing = aNumber;
    }
return newThing
}
tweak();
       </pre></dir><p> На первый взгляд, все очевидно. При вызове функции <tt>tweak()</tt> уже существует глобальная переменная <tt>aNumber</tt> со значением 100. Функция создает локальную переменную <tt>newThing</tt> и присваивает ей значение 100 (значение глобальной переменной <tt>aNumber</tt> в момент вызова функции). После чего значение глобальной переменной <tt>aNumber</tt> меняется на 42. Выражение условия оператора <tt>if</tt> равно <tt>true</tt> и локальной переменной <tt>aNumber</tt> присваивается значение 123, которое в следующем операторе присваивается локальной переменной <tt>newThing</tt> и возвращается функцией <tt>tweak()</tt>. Итак, ответ таков: функция <tt>tweak()</tt> вернет значение 123, а после ее выполнение значение переменной <tt>aNumber</tt> будет равно 42. </p><p> Выполним этот сценарий в браузере. Результат удивит нас весьма. Функция <tt>tweak()</tt> вернет значение <tt>undefined</tt>, а переменная <tt>aNumber</tt> как имела значение 100 до выполнения функции <tt>tweak()</tt>, так и будет его иметь! </p><p> Почему? Пытаясь смоделировать выполнение программы, мы забыли, что интерпретатор до начала ее выполнения создает переменные, объявленные во всех операторах <tt>var</tt>, включая локальные переменные функций, и присваивая им значение <tt>undefined</tt>. Поэтому при входе в функцию <tt>tweak()</tt> доступа к глобальной переменной <tt>aNumber</tt> уже не будет, и первый оператор присваивания значения переменной <tt>newThing</tt> присвоит ей значение <tt>undefined</tt>. Теперь ясно, что блок оператора <tt>if</tt> выполняться не будет, и функция вернет значение <tt>undefined</tt>. По этой же причине не изменится и значение глобальной переменной <tt>aNumber</tt>, так как на самом деле значение 42 присваивается локальной переменной <tt>aNumber</tt>. </p></td></tr></table><br><a name="exercise1"></a><table class="exercise"><caption>Упражнение #1. </caption><tr class="exercise"><td><p> Разработать функцию пересчета давления из мм рт. ст. в Па и наоборот (760 мм рт. ст. соответствует 101325 Па) со следующей спецификацией: <tt>pressure(value, code)</tt>, где <tt>value</tt> - значение либо в мм рт. ст., либо в Па, а <tt>code</tt> - код пересчета (0 из мм рт. ст. в Па, 1 из Па в мм рт. ст.). При щелчке пользователем на кнопке страницы ему предлагается в диалоговых окнах функции <tt>prompt()</tt> ввести код пересчета, начальное и конечное значения пересчитываемых величин и шаг. Сценарий должен отобразить на странице таблицу пересчета. </p></td></tr></table><br><a name="exercise2"></a><table class="exercise"><caption>Упражнение #2. </caption><tr class="exercise"><td><p> Разработать функцию вычисления среднего арифметического чисел, вводимых пользователем в диалоговых окнах функции <tt>prompt()</tt>, и отобразить в диалоговом окне функции <tt>alert()</tt> сами числа и их среднее арифметическое. Вызов сценария осуществить при щелчке на кнопке. </p></td></tr></table><br><a name="exercise3"></a><table class="exercise"><caption>Упражнение #3. </caption><tr class="exercise"><td><p> Разработать сценарий с двумя функциями, отображающими диалоговое окно <tt>alert()</tt> с сообщением, что вызвана такая-то функция, который также подсчитывает количество вызовов каждой функции. На странице предусмотреть две кнопки для вызова двух функций, а также две кнопки для отображения количества вызовов соответствующих функций. </p></td></tr></table><br><table cellspacing="0" align="center" width="90%" border="0"><tr><td align="left"><a href="index-5.html" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l5/index.html">&lt;&lt;&lt; Предыдущий урок</a></td><td align="right"><a href="index-7.html" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l7/index.html">Следующий урок &gt;&gt;&gt;</a></td></tr></table><br><br><br></td></tr></table><br></td><td background="dot.gif" tppabs="http://ips.ifmo.ru/img/dot.gif" width="1"><img width="1" src="spacer.gif" tppabs="http://ips.ifmo.ru/img/spacer.gif" height="157"></td></tr><tr><td class="lmenu" width="194" height="9"><font style="font-size:9px;font-family:arial;">Copyright &copy; 2003 IPS</font></td><td colspan="2" align="right"><img src="foot.gif" tppabs="http://ips.ifmo.ru/img/foot.gif"></td></tr></table></td></tr></table></body></html>