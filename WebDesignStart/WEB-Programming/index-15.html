<html><head><META http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Internet Programming school</title><meta content="text/html; charset=windows-1251" http-equiv="Content-Type"><link href="lesson.css" tppabs="http://ips.ifmo.ru/css/lesson.css" type="text/css" rel="stylesheet"><link href="style.css" type="text/css" rel="stylesheet"><script type="text/javascript" src="../../../../js/upmenu.js" language="JavaScript"> </script><script type="text/javascript" src="../../../../js/popupmenu.js" language="JavaScript"> </script><script type="text/javascript" src="../../../../js/tree.js" language="JavaScript"> </script></head><body marginwidth="0" marginheight="0" topmargin="0" leftmargin="0" bgcolor="#ffffff"><table cellspacing="0" cellpadding="0" height="100%" width="100%"><tr><td><table width="100%"><tbody><tr><td height="59"><img src="logo.gif" tppabs="http://ips.ifmo.ru/img/logo.gif" width="310" height="45"></td><td align="right"><a href="javascript:if(confirm('http://ips.ifmo.ru/personal/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/personal/'" tppabs="http://ips.ifmo.ru/personal/" class="up">Вход</a><span> | </span><a href="javascript:if(confirm('http://ips.ifmo.ru/main/siteabout/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/main/siteabout/'" tppabs="http://ips.ifmo.ru/main/siteabout/" class="up">Карта сайта</a><span> | </span><a href="javascript:if(confirm('http://ips.ifmo.ru/about/contacts/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/about/contacts/'" tppabs="http://ips.ifmo.ru/about/contacts/" class="up">Контакты</a></td></tr></tbody></table></td></tr><tr><td><table border="0" width="100%" cellPadding="0" cellSpacing="0"><tbody><tr><td align="right" height="1" colspan="2"><img src="menu13.gif" tppabs="http://ips.ifmo.ru/img/menu13.gif"></td></tr><tr bgcolor="#000934"><td><img src="menu21.gif" tppabs="http://ips.ifmo.ru/img/menu21.gif" width="267" height="36"></td><td align="right"><img src="menu23.gif" tppabs="http://ips.ifmo.ru/img/menu23.gif" width="512" height="36"></td></tr><tr bgColor="#a45ad5"><td background="menu_back.gif" tppabs="http://ips.ifmo.ru/img/menu_back.gif" class="menu" height="24" colSpan="2">&nbsp;<a title="Главная" href="javascript:if(confirm('http://ips.ifmo.ru/main/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/main/'" tppabs="http://ips.ifmo.ru/main/">ГЛАВНАЯ</a>&nbsp;&nbsp;<a title="О проекте" href="javascript:if(confirm('http://ips.ifmo.ru/about/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/about/'" tppabs="http://ips.ifmo.ru/about/">О ПРОЕКТЕ</a>&nbsp;&nbsp;<a title="Академия программирования" href="javascript:if(confirm('http://ips.ifmo.ru/academy/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/academy/'" tppabs="http://ips.ifmo.ru/academy/">АКАДЕМИЯ ПРОГРАММИРОВАНИЯ</a>&nbsp;&nbsp;<a title="Учебные курсы" href="javascript:if(confirm('http://ips.ifmo.ru/courses/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/courses/'" tppabs="http://ips.ifmo.ru/courses/"><font color="yellow">УЧЕБНЫЕ КУРСЫ</font></a>&nbsp;&nbsp;<a title="Об олимпиадах" href="javascript:if(confirm('http://ips.ifmo.ru/olymp/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/olymp/'" tppabs="http://ips.ifmo.ru/olymp/">ОЛИМПИАДЫ</a>&nbsp;&nbsp;<a title="Персональная страница" href="javascript:if(confirm('http://ips.ifmo.ru/personal/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://ips.ifmo.ru/personal/'" tppabs="http://ips.ifmo.ru/personal/">МОЙ IPS</a>&nbsp;&nbsp;</td></tr><tr bgcolor="#000934"><td></td><td align="right"><img src="menu33.gif" tppabs="http://ips.ifmo.ru/img/menu33.gif" width="512" height="5"></td></tr><tr bgcolor="#E2D3F5"><td></td><td align="right"><img src="menu43_.gif" tppabs="http://ips.ifmo.ru/img/menu43_.gif" width="512" height="6"></td></tr></tbody></table></td></tr><tr><td height="100%"><table height="100%" width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="194" class="lmenu" valign="top"><table class="lmenu" border="0" width="194"><tbody><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td width="10" valign="top"><img onclick="DisplayBranch('webprog/')" src="r_bull.gif" tppabs="http://ips.ifmo.ru/img/r_bull.gif" height="11"></td><td colspan="3" class="lmenuw"><a title="Клиентское Web-программирование" class="lmenu1" href="index.htm" tppabs="http://ips.ifmo.ru/courses/webprog/">Курс III</a></td></tr><tr><td colspan="4"><div show="true" id="webprog/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/ann/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2"><a title=" " class="lmenu2" href="index-1.htm" tppabs="http://ips.ifmo.ru/courses/webprog/ann/">Аннотация</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2"><a title="Язык сценариев JavaScript" class="lmenu2" href="index-2.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/">Часть I</a></td></tr><tr><td colspan="4"><div show="" id="webprog/part1/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Модель клиент-сервер в Интернете" class="lmenu3" href="index-3.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l1/">Урок 1</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Сценарии JavaScript в документах HTML" class="lmenu3" href="index-4.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l2/">Урок 2</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Переменные и литералы" class="lmenu3" href="index-5.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l3/">Урок 3</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l4/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Выражения и операции" class="lmenu3" href="index-6.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l4/">Урок 4</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l5/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Операторы" class="lmenu3" href="index-7.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l5/">Урок 5</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l6/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Функции" class="lmenu3" href="index-8.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l6/">Урок 6</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l7/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Встроенные объекты (1)" class="lmenu3" href="index-9.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l7/">Урок 7</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l8/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Встроенные объекты (2)" class="lmenu3" href="index-10.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l8/">Урок 8</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part1/l9/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Создание собственных объектов" class="lmenu3" href="index-11.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part1/l9/">Урок 9</a></td></tr></table></div></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2"><a title="Среда клиента" class="lmenu2" href="index-12.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/">Часть II</a></td></tr><tr><td colspan="4"><div show="" id="webprog/part2/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/l1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объектная модель MS Internet Explorer" class="lmenu3" href="index-13.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/l1/">Урок 10</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/l2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объекты доступа к странице и ее элементам" class="lmenu3" href="index-14.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/l2/">Урок 11</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part2/l3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Обработка событий в MS Internet Explorer" class="lmenu3" href="index-15.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part2/l3/">Урок 12</a></td></tr></table></div></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="2" class="lmenuw"><a title="Динамический HTML" class="lmenu2" href="index-16.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/">Часть III</a></td></tr><tr><td colspan="4"><div show="true" id="webprog/part3/"><table class="lmenu" width="100%"><tr><td width="10"></td><td width="10"></td><td width="10"></td><td width="100%"></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/l1/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объектная модель документа DHTML" class="lmenu3" href="index-17.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l1/">Урок 13</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/l2/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1" class="lmenuw">Урок 14</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td width="10" valign="top"><img onclick="DisplayBranch('webprog/part3/l3/')" src="w_bull.gif" tppabs="http://ips.ifmo.ru/img/w_bull.gif" height="11"></td><td colspan="1"><a title="Объектная модель документа DOM" class="lmenu3" href="index-19.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l3/">Урок 15</a></td></tr></table></div></td></tr></table></div></td></tr></tbody></table><br><br><br><table align="center"><tbody><tr><td><a href="javascript:if(confirm('http://www.ifmo.ru/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.ifmo.ru/'" tppabs="http://www.ifmo.ru/" title="Institute of fine mechanics and optics"><img border="0" src="ifmo.gif" tppabs="http://ips.ifmo.ru/img/ifmo.gif" height="29" width="64"></a></td></tr></tbody></table></td><td height="100%" valign="top"><table class="body"><tr><td><p class="link"><a href="index.htm" tppabs="http://ips.ifmo.ru/courses/webprog/" class="up">Клиентское Web-программирование</a>&nbsp;&raquo;&nbsp;<a href="index-16.htm" tppabs="http://ips.ifmo.ru/courses/webprog/part3/" class="up">Часть III</a>&nbsp;&raquo;&nbsp;Урок 14</p><p class="header">Примеры динамических страниц HTML</p><a name=""></a><h2> Раскрывающийся список </h2><p> Создать раскрывающийся список можно разными способами. Мы реализуем его с помощью вложенных элементов HTML <tt>UL</tt> и свойства <tt>display</tt> каскадных таблиц стилей, которое позволяет скрывать элементы страницы, не оставляя на ней даже выделенных под них блоков. </p><p> Поместим на страницу вложенный список: </p><dir><pre>
&lt;UL ID="idList" NAME="idList"&gt;
  &lt;LI TITLE="Щелкни и раскрой"
      STYLE="cursor: hand;"&gt; Один
  &lt;UL ID="idListOneA" NAME="idListOneA"
      STYLE="display: none; cursor: default;"&gt;
    &lt;LI TITLE="Файл А"&gt;A
    &lt;LI TITLE="Файл Б"&gt;Б
  &lt;/UL&gt;
  &lt;LI TITLE="Нераскрывающийся список"&gt; Два
  &lt;LI TITLE="Нераскрывающийся список"&gt; Три
&lt;/UL&gt;
 </pre></dir><p> Список <tt>idList</tt> составлен из трех элементов <tt>&lt;LI&gt;</tt> и вложенного списка <tt>idListOneA</tt>, который не отображается (его свойство <tt>display</tt> равно <tt>none</tt>) и будет использован для создания раскрывающегося списка при щелчке на первом элементе списка. Строка, заданная в атрибуте <tt>TITLE</tt>, отображается в виде всплывающей подсказки при расположении курсора мыши над элементом. Этот фрагмент отображается как простой статический список из трех элементов (вложенный список не отображается!) с маркерами. </p><p> Чтобы сделать список раскрывающимся, необходимо запрограммировать действия для первого элемента внешнего списка. </p><p> Но сначала запрограммируем изменение цвета этого элемента при наведении на него указателя мыши, чтобы пользователь обратил внимание на их "динамичность". Для этого добавим в его открывающий тег обработчики событий: </p><dir><pre>
ONMOUSEOVER="flashMe(this,'red')"
ONMOUSEOUT="flashMe(this,'black')"
 </pre></dir><p> Функция <tt>flashMe()</tt>, изменяющая цвет шрифта элемента, задается следующим кодом: </p><dir><pre>
function flashMe(eSrc, sColor) {
  eSrc.style.color=sColor
}
 </pre></dir><p> Теперь остается добавить обработчик щелчка кнопки мыши в первый элемент списка <tt>idList</tt>, выполняющий функцию отображения вложенного списка <tt>idListOneA</tt>, если он скрыт, и скрывающий его, если он видим: </p><dir><pre>
ONCLICK="toggleList(this.children[0])"
 </pre></dir><p> При вызове функции для ссылки на вложенный список <tt>idListOneA</tt> используется конструкция <tt>this.children[0]</tt>. В ней <tt>this</tt> ссылается на элемент <tt>LI</tt>, а он непосредственно порождает единственный вложенный элемент - требуемый нам список <tt>idListOneA</tt>. </p><p> Исходный текст функции <tt>toggleList()</tt> приведен ниже: </p><dir><pre>
function toggleListOneA(eTarget){
  eTarget.style.display == "none" ?
      eTarget.style.display="block":
  eTarget.style.display="none";
  eTarget.style.color = 'black';
}
 </pre></dir><p> Для того, чтобы раскрывшийся список <tt>idListOneA</tt> не был красного цвета, как и элемент <tt>LI</tt>, в который он вложен (свойство <tt>color</tt> наследуется), в функции <tt>toggleList()</tt> его цвет устанавливается черным. </p><p> Окончательно исходный текст сценария раскрывающегося списка выглядит так: </p><a name="example25"></a><table class="example"><caption>Пример #1.  Раскрывающийся список </caption><tr><td colspan="2"><dir><pre>
&lt;HEAD&gt;
&lt;SCRIPT&gt;
&lt;!--
function toggleListOneA(eTarget){
  eTarget.style.display == "none" ?
    eTarget.style.display = "block":
    eTarget.style.display = "none";
  eTarget.style.color = 'black';
}
function flashMe(eSrc, sColor) {
  eSrc.style.color=sColor
}
//--&gt;
&lt;/SCRIPT&gt;
&lt;STYLE TYPE="text/css"&gt;&lt;!--
  H1 {background-color:lightgrey;
      font-family: Arial;
      font-size: 11pt;
      color: indianred;
     }
  #idListOne {
    list-style-image:url(leaf.jpg);
    color: black;
    list-style-position:inside;
    }
--&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;H1&gt; Пример 2.4: Раскрывающийся список &lt;/H1&gt;
&lt;UL ID="idListOne" NAME="idListOne"&gt;
  &lt;LI ONCLICK="toggleListOneA(this.children[0])"
      ONMOUSEOVER="flashMe(this,'red')"
      ONMOUSEOUT="flashMe(this,'black')"
      TITLE="Щелкни и раскрой"
      STYLE="cursor:hand;"&gt; Один
  &lt;UL ID="idListOneA"
      NAME="idListOneA"
      STYLE="display:none; cursor: default;"&gt;
    &lt;LI TITLE="Файл А"&gt;A
    &lt;LI TITLE="Файл Б"&gt;Б
  &lt;/UL&gt;
  &lt;LI TITLE="Нераскрывающийся список"&gt; Два
  &lt;LI TITLE="Нераскрывающийся список"&gt; Три
&lt;/UL&gt;
   </pre></dir></td></tr></table><p> Графический файл <tt>item.jpg</tt> в свойстве каскадных таблицей стилей <tt>item-style-image</tt> задает изображение маркера в списках. Свойство <tt>cursor</tt> определяет тип курсора мыши, когда он располагается над элементом. В нашем примере курсор будет меняться на изображение руки (значение свойства <tt>hand</tt>). </p><p> Раскрывшийся список закроется при щелчке на нем или на элементе <tt>LI</tt>, в который он вложен, так как в этом случае сработает эффект "всплытие" события. Если требуется, чтобы список закрывался только при щелчке на элементе  <tt>LI</tt>, следует добавить в открывающий тег <tt>&lt;UL&gt;</tt> списка <tt>idListOneA</tt> обработчик события <tt>ONCLICK</tt> с кодом, прекращающим "всплытие" события: </p><dir><pre>
ONCLICK="window.event.cancelBubble=true"
 </pre></dir><a name=""></a><h2> Движущийся элемент </h2><p> Положение абсолютно позиционированного элемента на странице легко изменить, установив новые значения его свойств <tt>top</tt> и <tt>left</tt> из встроенного сценария. Если организовать изменение значений этих свойств во времени, то элемент будет двигаться на странице по заданной траектории. В следующем примере реализовано движение раздела (элемент <tt>DIV</tt>) по окружности. </p><a name="example26"></a><table class="example"><caption>Пример #2.  Движущийся раздел текста </caption><tr><td colspan="2"><dir><pre>
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;SCRIPT LANGUAGE="JScript"&gt;
&lt;!--
function StartGlide() {
    x = parseInt(document.body.offsetWidth)/2,
    y = parseInt(document.body.offsetHeight)/2,
    r = 3*y/5,
    dt = 0.1,
    t = 0;
    action = window.setInterval("Glide()",100);
}

function Glide() {
    t += dt;
    Banner.style.left = x + r*Math.sin(t);
    Banner.style.top  = y + r*Math.cos(t);
}
--&gt;
&lt;/SCRIPT&gt;
&lt;STYLE TYPE="text/css"&gt;&lt;!--
  H1 {background-color:lightgrey;
      font-family: Arial;
      font-size: 22pt;
      color: indianred;
     }
--&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY onload="StartGlide()"&gt;

&lt;H1&gt; Движущийся элемент &lt;/H1&gt;

&lt;P&gt;Динамический HTML позволяет программно менять положение
элемента!&lt;/P&gt;

&lt;DIV ID="Banner" STYLE="position:absolute;
         width: 200; background-color: lightsteelblue;"&gt;
Добро пожаловать на страницу динамического HTML!&lt;/DIV&gt;

&lt;/BODY&gt;

   </pre></dir></td></tr></table><p> В теле документа определяется абсолютно позиционированный раздел с именем <tt>Banner</tt>. При загрузке документа вызывается функция <tt>startMove()</tt>, в которой определяются координаты <tt>x</tt> и <tt>y</tt> центра области отображения браузера, радиус <tt>r</tt> окружности и начальное значение параметра <tt>t</tt> вместе с его шагом изменения <tt>dt</tt>, используемое в параметрических уравнениях движения верхнего левого угла элемента <tt>Banner</tt>. Далее в этой же функции методом <tt>setInterval()</tt> объекта <tt>window</tt> с интервалом в 100 миллисекунд вызывается функция <tt>move()</tt>, которая и реализует перемещение во времени раздела. </p><p> Каждый раз при вызове функции <tt>move()</tt> изменяется значение параметра уравнений движения и в соответствии с ним определяется новое положение раздела - значения его свойств <tt>top</tt> и <tt>left</tt>. Уравнения движения - параметрическое уравнение окружности с центром в точке с координатами <tt>(x,y)</tt> и радиусом <tt>r</tt>. </p><p> Метод  <tt>parseInt()</tt> используется в сценариях для выделения целого числа из значения свойств объектов, которые задаются вместе с размерностью. К ним относятся все размерные свойства, соответствующие атрибутам элементов HTML, и свойства каскадных таблиц стилей, задающие размеры и положение. </p><a name=""></a><h2> Динамическое изменение таблиц </h2><p> Пусть в каком-либо документе задана таблица из трех рядов: </p><dir><pre>
&lt;TABLE ID="Table" border=1 cellspacing=0&gt;
&lt;TR&gt;
&lt;TD&gt;Ячейка 1 первого ряда&lt;/TD&gt;&lt;TD&gt;Ячейка 2 первого ряда&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
&lt;TD&gt;Ячейка 1 второго ряда&lt;/TD&gt;&lt;TD&gt;Ячейка 2 второго ряда&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
&lt;TD&gt;Этот ряд перемещаем&lt;/TD&gt;&lt;TD&gt;Этот ряд перемещаем&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
  </pre></dir><p> Необходимо переместить ее последний ряд на место предшествующего. Для решения этой задачи используются семейства rows объекта <tt>table</tt>, в котором хранятся ссылки на строки таблицы. У объекта, представляющего строку таблицы, есть семейство <tt>cells</tt>, хранящее ссылки на все ячейки таблицы. Используя свойство <tt>innerHTML</tt> можно получить или изменить значение любой ячейки таблицы. </p><p> Приведем краткую сводку свойств, семейств и методов объектов, соответствующих элементам HTML, формирующим таблицу. </p><p> <strong>Объект table:</strong> </p><p>Семейства: <tt>all</tt>, <tt>children</tt>, <tt>cells</tt>, <tt>rows</tt> </p><p>Методы: <tt>deleteRow([rowIndex])</tt>, <tt>insertRow([rowIndex])</tt>, <tt>moveRow(rowIndex, targetRowIndex)</tt> </p><p> <strong>Объект tr:</strong> </p><p>Свойство: <tt>rowIndex</tt> </p><p>Семейства: <tt>all</tt>, <tt>children</tt>, <tt>cells</tt> </p><p>Методы: <tt>deleteCell([cellIndex])</tt>,<tt>insertCell([cellIndex])</tt> </p><p> <strong>Объект td:</strong> </p><p>Свойство: <tt>cellIndex</tt> </p><p>Семейства: <tt>all</tt>, <tt>children</tt> </p><p> Функция, перемещающая последний и предпоследний ряды таблицы, имеет следующий код: </p><a name="example27"></a><table class="example"><caption>Пример #3.  Перемещение рядов таблицы </caption><tr><td colspan="2"><dir><pre>
function fncInterchange(row){
var rowMove=row.rowIndex;
   var rowMove_Cell1=Table.rows[rowMove].cells[0].innerHTML;
   var rowMove_Cell2=Table.rows[rowMove].cells[1].innerHTML;
   Table.deleteRow(rowMove);
   rowMove --;
   Table.insertRow(rowMove);
   Table.rows(rowMove).insertCell(0);
   Table.rows(rowMove).insertCell(1);
   Table.rows(rowMove).cells[0].innerHTML+= rowMove_Cell1;
   Table.rows(rowMove).cells[1].innerHTML+= rowMove_Cell2;
}
     </pre></dir></td></tr></table><p> В переменной <tt>rowMove</tt> сохраняется индекс перемещаемого ряда, передаваемого в качестве параметра. Переменные <tt>rowMove_Cell1</tt> и <tt>rowMove_Cell1</tt> хранят содержимое двух ячеек перемещаемого ряда. После этих подготовительных действий ряд удаляется методом <tt>rowDelete()</tt> объекта <tt>Table</tt>, и в таблицу вставляется новый ряд перед рядом, предшествующим удаленному. Последние операторы функции добавляют две ячейки в новый ряд и помещают в них содержимое соответствующих ячеек удаленного ряда. </p><a name=""></a><h2> Родственные отношения </h2><p> Объектная модель DHTML раскрывает все родственные отношения, но для некоторых отношений требуется небольшое программирование. </p><p> Определить родителя объекта в объектной модели DHTML можно с помощью свойства <tt>parentElement</tt>. </p><p> Для нахождения ближайшего предыдущего родственника для элемента, непосредственно порождаемого другим элементом, следует выполнить действия, определяемые в функции <tt>getPreviousSibling()</tt>, единственным параметром которой является объект, для которого ищется ближайший предыдущий родственник (в семействе <tt>children</tt> объекта-родителя): </p><dir><pre>
function getPreviousSibling(Obj){
// Определение родителя
  var Parent=Obj.parentElement;
// Определение ближайшего предыдущего родственника
  var iLength=Parent.children.length;
  for(var i=0;i &lt; iLength;i++){
// родственник найден
    if(Parent.children[i]== Obj){
      return Parent.children[i-1];
      break;
    }
  }
}
  </pre></dir><p> Здесь приходится организовывать цикл по набору <tt>children</tt> объекта-родителя, пока не встретится исходный объект, для которого ищется ближайший родственник. </p><a name="exercise1"></a><table class="exercise"><caption>Упражнение #1. </caption><tr class="exercise"><td><p> На странице отображается графическое изображение. Создать для нее сценарии: </p><ul type="a"><li><p>при расположении указателя мыши над графическим изображением оно заменяется другим, при последующих аналогичных действиях появляется новое изображение (предусмотреть до 5 новых изображений); </p></li><li><p>на странице предусмотреть надпись, например, AUTOMATE, при щелчке на которой изображения начинают сменяться с интервалом в 5 секунд. Предусмотреть возможность останова этого режима; </p></li><li><p>предусмотреть две кнопки: щелчок на первой отображает предыдущее изображение, на второй - следующее. Картинки должны отображаться циклически: после последней первая и далее при щелчке на второй кнопке, а после первой последняя, предпоследняя и далее при щелчке на первой кнопке. </p></li></ul></td></tr></table><br><a name="exercise2"></a><table class="exercise"><caption>Упражнение #2. </caption><tr class="exercise"><td><p> На странице присутствует графическое изображение. При наведении указателя мыши на изображение оно автоматически начинает смещаться вправо. При достижении границы окна начинает двигаться по его периметру по часовой стрелке.  </p></td></tr></table><br><a name="exercise3"></a><table class="exercise"><caption>Упражнение #3. </caption><tr class="exercise"><td><p> Создать галерею изображений следующим образом. На странице представлен только список картин. При наведении указателя мыши на любой из элементов списка справа от него отображается соответствующая выбранному пункту картина, когда указатель перемещается на другой пункт списка, то отображается другая картина, а когда указатель покидает область списка, то последняя отображаемая картина исчезает. </p></td></tr></table><br><a name="exercise4"></a><table class="exercise"><caption>Упражнение #4. </caption><tr class="exercise"><td><p> Создать сценарий, который при щелчке на рисунке сделает его невидимым не сразу, а постепенно "отрезая" от него все увеличивающиеся внешние части. </p></td></tr></table><br><a name="exercise5"></a><table class="exercise"><caption>Упражнение #5. </caption><tr class="exercise"><td><p> Разработать страницу HTML такую, что при щелчке на некотором заранее определенном элементе за текстом страницы начинает "падать" снег; при последующем щелчке на этом элементе - снег перестает "падать". </p></td></tr></table><br><table cellspacing="0" align="center" width="90%" border="0"><tr><td align="left"><a href="index-13.html" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l1/index.html">&lt;&lt;&lt; Предыдущий урок</a></td><td align="right"><a href="index-14.html" tppabs="http://ips.ifmo.ru/courses/webprog/part3/l3/index.html">Следующий урок &gt;&gt;&gt;</a></td></tr></table><br><br><br></td></tr></table><br></td><td background="dot.gif" tppabs="http://ips.ifmo.ru/img/dot.gif" width="1"><img width="1" src="spacer.gif" tppabs="http://ips.ifmo.ru/img/spacer.gif" height="157"></td></tr><tr><td class="lmenu" width="194" height="9"><font style="font-size:9px;font-family:arial;">Copyright &copy; 2003 IPS</font></td><td colspan="2" align="right"><img src="foot.gif" tppabs="http://ips.ifmo.ru/img/foot.gif"></td></tr></table></td></tr></table></body></html>